The basics:

1. When player connects he is transported to auth server
2. Player logs in (handled by bungeecord), and he is remembered as logged in
3. After success player is transported to the server that he wanted to join originally (or the first one, if no matched virtual host was found)
4. The secure key is sent to game server, game server won't allow player to finish login until the secure key is received

Packets:

CustomPayload(PluginMessage) is used with tag Bungeecord
All packets use DataInputStream/DataOutputStream for decoding/encoding

The bungee subchannel is TGAUTH

1. Bungee -> GameServer
   UTF: subchannel
   
   subchannel == SecureKey:
     UTF: secure key